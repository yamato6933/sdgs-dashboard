# ğŸ“š SDGsãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆã‚¬ã‚¤ãƒ‰

## ğŸš€ æœ¬ç•ªç’°å¢ƒæ›´æ–°æ–¹æ³•ï¼ˆè¦å› åˆ†è§£æ©Ÿèƒ½è¿½åŠ å¯¾å¿œï¼‰

### ğŸ”§ ã‚¯ã‚¤ãƒƒã‚¯æ›´æ–°ï¼ˆæ¨å¥¨ï¼‰

ã‚µãƒ¼ãƒãƒ¼ã«SSHæ¥ç¶šå¾Œã€ä»¥ä¸‹ã®ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œï¼š

```bash
# 1. ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•
cd /var/www/sdgs-dashboard

# 2. æ›´æ–°ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œ
bash deploy/update-production.sh
```

### ğŸ“‹ æ‰‹å‹•æ›´æ–°æ‰‹é †

#### ã‚¹ãƒ†ãƒƒãƒ—1: ã‚µãƒ¼ãƒãƒ¼ã«æ¥ç¶š
```bash
ssh username@your-server-ip
```

#### ã‚¹ãƒ†ãƒƒãƒ—2: æœ€æ–°ã‚³ãƒ¼ãƒ‰ã‚’å–å¾—
```bash
cd /var/www/sdgs-dashboard
git pull origin main
```

#### ã‚¹ãƒ†ãƒƒãƒ—3: ä¾å­˜é–¢ä¿‚ã¨ãƒ“ãƒ«ãƒ‰
```bash
# ä¾å­˜é–¢ä¿‚æ›´æ–°ï¼ˆå¿…è¦ã«å¿œã˜ã¦ï¼‰
npm install

# ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ“ãƒ«ãƒ‰
npm run build
```

#### ã‚¹ãƒ†ãƒƒãƒ—4: ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å†èµ·å‹•
```bash
# PM2ã§å†èµ·å‹•
pm2 restart sdgs-dashboard

# çŠ¶æ³ç¢ºèª
pm2 status
pm2 logs sdgs-dashboard
```

## ğŸ†• ä»Šå›ã®æ›´æ–°å†…å®¹ï¼ˆè¦å› åˆ†è§£æ©Ÿèƒ½ï¼‰

### è¿½åŠ ãƒ•ã‚¡ã‚¤ãƒ«
- `src/app/sdgs/FactorDecomposition.tsx` - è¦å› åˆ†è§£ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
- `src/app/sdgs/feature-factors.ts` - SDGsã‚´ãƒ¼ãƒ«åˆ¥ç‰¹å¾´é‡ãƒ‡ãƒ¼ã‚¿
- `deploy/update-production.sh` - æœ¬ç•ªç’°å¢ƒæ›´æ–°ã‚¹ã‚¯ãƒªãƒ—ãƒˆ

### å¤‰æ›´ãƒ•ã‚¡ã‚¤ãƒ«
- `src/app/sdgs/page.tsx` - è¦å› åˆ†è§£ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®çµ„ã¿è¾¼ã¿

### æ–°æ©Ÿèƒ½
1. **ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãªSDGsã‚´ãƒ¼ãƒ«é¸æŠ**
   - 17å€‹ã®SDGsã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯å¯èƒ½
   - é¸æŠã•ã‚ŒãŸã‚´ãƒ¼ãƒ«ã®ãƒã‚¤ãƒ©ã‚¤ãƒˆè¡¨ç¤º

2. **ç‰¹å¾´é‡è©³ç´°è¡¨ç¤º**
   - å„ã‚´ãƒ¼ãƒ«ã®ç®—å‡ºã«ä½¿ç”¨ã•ã‚ŒãŸç‰¹å¾´é‡ã‚’è¡¨ç¤º
   - ç•ªå·ä»˜ããƒªã‚¹ãƒˆã§åˆ†ã‹ã‚Šã‚„ã™ãæ•´ç†

3. **ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–ãƒ‡ã‚¶ã‚¤ãƒ³**
   - ç”»é¢ã‚µã‚¤ã‚ºã«å¿œã˜ãŸã‚¢ã‚¤ã‚³ãƒ³ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
   - ãƒ¢ãƒã‚¤ãƒ«ãƒ»ã‚¿ãƒ–ãƒ¬ãƒƒãƒˆãƒ»ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—å¯¾å¿œ

## ğŸ” å‹•ä½œç¢ºèªæ–¹æ³•

### 1. ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³èµ·å‹•ç¢ºèª
```bash
pm2 status
# sdgs-dashboard ãŒ "online" çŠ¶æ…‹ã§ã‚ã‚‹ã“ã¨ã‚’ç¢ºèª
```

### 2. ãƒ­ã‚°ç¢ºèª
```bash
pm2 logs sdgs-dashboard
# ã‚¨ãƒ©ãƒ¼ãŒãªã„ã“ã¨ã‚’ç¢ºèª
```

### 3. ãƒ–ãƒ©ã‚¦ã‚¶ç¢ºèª
1. https://your-domain.com ã«ã‚¢ã‚¯ã‚»ã‚¹
2. SDGsãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ãƒšãƒ¼ã‚¸ã«ç§»å‹•
3. å¸‚åŒºç”ºæ‘ã‚’é¸æŠ
4. ã€Œè¦å› åˆ†è§£ã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã§SDGsã‚¢ã‚¤ã‚³ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
5. ç‰¹å¾´é‡ãŒæ­£ã—ãè¡¨ç¤ºã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª

## ğŸ› ï¸ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### ãƒ“ãƒ«ãƒ‰ã‚¨ãƒ©ãƒ¼
```bash
# ãƒ­ã‚°ç¢ºèª
npm run build 2>&1 | tee build.log

# ä¾å­˜é–¢ä¿‚ã®å†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
rm -rf node_modules package-lock.json
npm install
npm run build
```

### PM2èµ·å‹•ã‚¨ãƒ©ãƒ¼
```bash
# PM2ãƒ—ãƒ­ã‚»ã‚¹ç¢ºèª
pm2 list

# å¼·åˆ¶å†èµ·å‹•
pm2 delete sdgs-dashboard
pm2 start npm --name "sdgs-dashboard" -- start
```

### æ¨©é™ã‚¨ãƒ©ãƒ¼
```bash
# ãƒ•ã‚¡ã‚¤ãƒ«æ¨©é™ç¢ºèª
ls -la /var/www/sdgs-dashboard/

# æ¨©é™ä¿®æ­£
sudo chown -R $USER:$USER /var/www/sdgs-dashboard/
```

## ğŸ“Š ç›£è¦–ã¨ãƒ­ã‚°

### ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç›£è¦–
```bash
# PM2 ç›£è¦–
pm2 monit

# ã‚·ã‚¹ãƒ†ãƒ ãƒªã‚½ãƒ¼ã‚¹
htop
```

### ãƒ­ã‚°ãƒ•ã‚¡ã‚¤ãƒ«
```bash
# ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãƒ­ã‚°
pm2 logs sdgs-dashboard

# Nginxãƒ­ã‚°
sudo tail -f /var/log/nginx/access.log
sudo tail -f /var/log/nginx/error.log

# ã‚·ã‚¹ãƒ†ãƒ ãƒ­ã‚°
sudo journalctl -u nginx -f
```

## ğŸ”„ å®šæœŸãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹

### é€±æ¬¡
```bash
# ã‚·ã‚¹ãƒ†ãƒ æ›´æ–°
sudo apt update && sudo apt upgrade

# PM2ãƒ—ãƒ­ã‚»ã‚¹ç¢ºèª
pm2 status
```

### æœˆæ¬¡
```bash
# SSLè¨¼æ˜æ›¸ç¢ºèª
sudo certbot certificates

# ãƒ‡ã‚£ã‚¹ã‚¯ä½¿ç”¨é‡ç¢ºèª
df -h

# ãƒ­ã‚°ãƒ­ãƒ¼ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³
pm2 flush
```

## ğŸ“ ã‚µãƒãƒ¼ãƒˆ

### ã‚ˆãã‚ã‚‹å•é¡Œ
1. **404ã‚¨ãƒ©ãƒ¼** â†’ Nginxè¨­å®šç¢ºèª
2. **SSLè¨¼æ˜æ›¸ã‚¨ãƒ©ãƒ¼** â†’ certbotæ›´æ–°
3. **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¨ãƒ©ãƒ¼** â†’ ãƒ•ã‚¡ã‚¤ãƒ«æ¨©é™ç¢ºèª
4. **ãƒ¡ãƒ¢ãƒªä¸è¶³** â†’ PM2 restart

### ç·Šæ€¥æ™‚é€£çµ¡å…ˆ
- é–‹ç™ºè€…: [é€£çµ¡å…ˆæƒ…å ±]
- ã‚µãƒ¼ãƒãƒ¼ç®¡ç†: [é€£çµ¡å…ˆæƒ…å ±]

---

## ğŸ“ æ›´æ–°å±¥æ­´

| æ—¥ä»˜ | ãƒãƒ¼ã‚¸ãƒ§ãƒ³ | æ›´æ–°å†…å®¹ |
|------|------------|----------|
| 2024-XX-XX | v1.1.0 | è¦å› åˆ†è§£æ©Ÿèƒ½è¿½åŠ  |
| 2024-XX-XX | v1.0.0 | åˆæœŸãƒªãƒªãƒ¼ã‚¹ |
